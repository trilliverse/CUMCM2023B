### 5.4.1 基于单波束测量数据的海域地貌
【补充地貌图和等深线图】
分析海底地貌图和海域等深线图可知，该海域海底的地形起伏较大，整体呈现为一个凸包。其中，可以明显看出海域东南角等深线密集，海底地形陡峭；东北角等深线较为稀疏，地形较为平坦；西南角地势呈现出一个小突起；西北角的地形大致为一个坡面，与问题1和2的地形相似。

### 5.4.2 基于ARPF的自适应海底地形分区拟合
考虑到在上述实际海域中，海底地形具有明显的非均匀性与多尺度空间变化特征，单一的全局模型难以精确描述其复杂结构。为此，本文引入了一种自适应递归平面片分区拟合算法（Adaptive Recursive Plane Fitting, ARPF），用于高效且精确地实现三维海底地形的分块线性逼近。 
图【】ARPF算法流程图

以整个待测海域为初始拟合区域，首先对区域内所有实测 $(x,y,z)$  点采用最小二乘法进行平面拟合，并据此计算拟合平面对测点的均方误差（MSE）。为了确保拟合的精度与局部地形细节的表达，算法设置了严格的误差阈值与最小区块尺寸作为自适应细分的判据。当某一区域内的拟合误差低于预设阈值，或该区块已经细分至最小允许尺度时，即认为该区块地形已能用单一平面充分描述，记录下该区块的几何边界及平面参数；若拟合误差仍高于阈值，则将当前区域进一步细分为3×3的九宫格子区块，并对每一个子区块递归重复上述拟合和判据过程。
 

通过这种递归细分与自适应误差控制机制，ARPF算法能够根据海底地形的复杂程度自动调整区块分辨率，实现对整体海域的高效覆盖和复杂地形的精细表达。最终，整个海域被划分为若干不规则的矩形子区块，每一子区块均由一组最优平面参数进行近似拟合，并可进一步提取其局部坡度信息。与传统的全局平面拟合相比，ARPF算法具备显著的自适应性和空间效率，能够在保证全局误差可控的前提下，有效减少区块数和数据冗余，充分捕捉地形的空间异质性。该算法的输出不仅为后续的多波束测线自适应布设、条带宽度与重叠率的精确计算提供了坚实的数据基础，也为复杂海底地形的可视化与智能分区处理奠定了基础。

### 5.4.3 基于ARPF的测线自适应布设  
在完成海底地形分块线性拟合后，需在每个子区块内部布设满足10 %–20 %重叠率约束的最优测线。本文将5.3节推导的“坡度-宽度-重叠”模型（式(3.7)–(3.10)）与ARPF输出的局部平面参数耦合，提出一种“分块-等高平行”自适应布设策略，其流程如图5-10所示。

图5-10 基于ARPF的测线自适应布设流程  
（1）区块平面参数提取：对每个ARPF子区块，读取其最小二乘拟合平面  
$$
z = a_i x + b_i y + c_i ,
$$  
计算坡度角 $\alpha_i = \arccos\frac{1}{\sqrt{a_i^2+b_i^2}}$ 及坡面法向在水平面的投影方向角 $\beta_i = \arctan(b_i/a_i)$。  
（2）等高平行测线方向确定：令测线与等高线平行，即与坡面法向的水平投影垂直，则测线方向角 $\phi_i = \beta_i + 90^\circ$。  
（3）条带宽度与测线间距计算：利用5.3节模型，将中心水深 $D_0 = a_i\frac{min(x)+max(x)}{2}+b_i\frac {min(y)+max(y)}{2}+c_i$(取区块几何中心处水深),与换能器开角 $\theta=120^\circ$、坡度 $\alpha_i$ 代入，得覆盖宽度和优间距  
（4）边界裁剪与测线延伸：在区块矩形边界内，沿方向 $\phi_i$ 以间距 $d_i$ 生成起始测线，并双向延伸至与边界相交；对超出边界的部分，保留与相邻区块的重叠区，避免后期出现漏测。  
（5）全局测线合并：将所有子区块测线统一转换到全局坐标系，并对重叠或相邻测线进行合并与冗余剔除，最终输出全局测线集合 $\mathcal{L}$。

### 5.4.3 测线评价指标计算  
按题意需对布设结果进行三项量化评估，算法如下。

**1. 测线总长度**  
对 $\mathcal{L}$ 中的每条测线段 $l_k$ 计算其欧氏长度，累加得  
$$
L_{\text{total}} = \sum_{k} \Vert l_k \Vert .
$$

**2. 漏测面积百分比**  
将待测海域栅格化为1 m×1 m网格，标记所有被至少一条条带覆盖的格点为“已测”，其余为“漏测”。设总网格数为 $N_{\text{total}}$，漏测网格数为 $N_{\text{miss}}$，则  
$$
\text{漏测百分比} = \frac{N_{\text{miss}}}{N_{\text{total}}} \times 100\%.
$$

**3. 过度重叠长度**  
对相邻测线 $l_i,l_j$，计算其条带重叠区内的实际重叠率 $\eta_{ij}(s)$ 沿测线方向 $s$ 的分布。若 $\eta_{ij}(s)>20\%$，则累计该段长度；遍历所有测线对，得  
$$
L_{\text{over}} = \sum_{\{(i,j)\}}\int_{s\in \Omega_{ij}} \mathbb{I}\!\left[\eta_{ij}(s)>0.2\right] \mathrm{d}s .
$$

### 5.4.4 结果与分析  
()

综上，基于ARPF的自适应测线布设策略在复杂海底地形条件下，实现了“全覆盖、低冗余、短总长”的多目标优化，显著优于单一全局布设方案，验证了模型的有效性与工程实用性。